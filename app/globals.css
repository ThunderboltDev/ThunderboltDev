@import "tailwindcss";
@import "tw-animate-css";

@theme inline {
  --color-background: oklch(0.125 0 0);
  --color-foreground: oklch(0.98 0 0);

  --color-secondary: oklch(0.25 0 0);
  --color-secondary-foreground: oklch(0.96 0 0);

  --color-muted: oklch(0.325 0 0);
  --color-muted-foreground: oklch(0.75 0 0);

  --color-accent: oklch(0.968 0.211 109.77);
  --color-accent-foreground: oklch(0.205 0 0);

  --color-border: oklch(1 0 0 / 10%);
  --color-input: oklch(1 0 0 / 15%);
  --color-ring: var(--color-accent);

  --wrapper-xs: 12rem;
  --wrapper-sm: 24rem;
  --wrapper-md: 36rem;
  --wrapper-lg: 48rem;
  --wrapper-xl: 60rem;
  --wrapper-2xl: 80rem;
  --wrapper-3xl: 100rem;

  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;

  --breakpoint-xs: 30rem;
}

@layer base {
  ::selection {
    @apply bg-accent/15;
  }

  html {
    @apply scroll-smooth scroll-pt-8 scrollbar-4;
  }

  body {
    @apply bg-background text-foreground antialiased;
    @apply absolute inset-0;

    --grid-color: oklch(1 0 0 / 5%);

    background-size: 4rem 4rem;
    animation: grid-pulse 2s infinite;
    background-image: linear-gradient(
        to right,
        var(--grid-color) 1px,
        transparent 1px
      ),
      linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
  }

  a {
    @apply focus-visible:outline-accent/50 focus-visible:outline-1;
  }

  p {
    @apply mx-auto text-pretty text-muted-foreground;
    max-width: min(100vw - 1.8rem, 50ch);
  }

  article p {
    @apply max-w-full m-0;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply text-center;
  }

  h1 {
    @apply text-5xl md:text-7xl;
    @apply font-bold tracking-tight leading-tight;
  }

  h2 {
    @apply text-3xl md:text-4xl;
    @apply font-bold tracking-tight leading-tight;
  }

  h3 {
    @apply text-2xl md:text-3xl;
    @apply font-bold tracking-tight leading-tight;
  }

  h4 {
    @apply text-xl md:text-2xl;
    @apply font-semibold tracking-tight leading-snug;
  }

  h5 {
    @apply text-lg md:text-xl;
    @apply font-semibold tracking-tight leading-snug;
  }

  h6 {
    @apply text-base md:text-lg;
    @apply font-semibold tracking-tight leading-snug;
  }

  section {
    @apply py-12 wrapper-xl;
  }
}

@keyframes bg-size {
  from {
    background-position: 100% 100%;
  }

  to {
    background-position: 0% 0%;
  }
}

@utility image {
  background-size: 300% 300% !important;

  background: linear-gradient(
    to bottom right,
    var(--color-secondary) 45%,
    var(--color-muted) 50%,
    var(--color-secondary) 55%
  );

  animation: bg-size 1.5s infinite ease-in-out;
}

@utility link {
  @apply transition-colors duration-250 ease-out;
  @apply underline underline-offset-2;
  @apply hover:text-accent;
}

@utility bar {
  @apply absolute;
  @apply bg-linear-to-t from-accent to-accent/0;
}

@utility card {
  @apply bg-secondary/50 p-6 rounded-md backdrop-blur-sm;
  @apply border border-border shadow-lg;
  @apply transition-all duration-250 ease-out;
}

@property --card-glow-angle {
  syntax: "<angle>";
  inherits: false;
  initial-value: 0deg;
}

@keyframes card-glow-rotate {
  from {
    --card-glow-angle: 0deg;
  }

  to {
    --card-glow-angle: 360deg;
  }
}

@property --card-glow-l {
  syntax: "<number>";
  inherits: false;
  initial-value: 1;
}

@property --card-glow-c {
  syntax: "<number>";
  inherits: false;
  initial-value: 0;
}

@property --card-glow-h {
  syntax: "<number>";
  inherits: false;
  initial-value: 0;
}

@property --card-glow-o {
  syntax: "<number>";
  inherits: false;
  initial-value: 0.1;
}

@property --card-glow-accent-l {
  syntax: "<number>";
  inherits: false;
  initial-value: 1;
}

@property --card-glow-accent-c {
  syntax: "<number>";
  inherits: false;
  initial-value: 0;
}

@property --card-glow-accent-h {
  syntax: "<number>";
  inherits: false;
  initial-value: 0;
}

@property --card-glow-accent-o {
  syntax: "<number>";
  inherits: false;
  initial-value: 0.1;
}

@utility card-glow {
  @apply rounded-[7px];
  @apply absolute -z-1 inset-0;

  background: conic-gradient(
    from var(--card-glow-angle),
    oklch(
        var(--card-glow-l) var(--card-glow-c) var(--card-glow-h) /
          var(--card-glow-o)
      )
      45%,
    oklch(
        var(--card-glow-accent-l) var(--card-glow-accent-c)
          var(--card-glow-accent-h) / var(--card-glow-accent-o)
      )
      50%,
    oklch(
        var(--card-glow-l) var(--card-glow-c) var(--card-glow-h) /
          var(--card-glow-o)
      )
      55%
  );

  transition: --card-glow-l 250ms ease-in-out, --card-glow-c 250ms ease-in-out,
    --card-glow-h 250ms ease-in-out, --card-glow-o 250ms ease-in-out,
    --card-glow-accent-l 250ms ease-in-out,
    --card-glow-accent-c 250ms ease-in-out,
    --card-glow-accent-h 250ms ease-in-out,
    --card-glow-accent-o 250ms ease-in-out, filter 250ms ease-in-out;

  animation: card-glow-rotate 6s infinite linear;
}

@utility card-glow-hover {
  --card-glow-l: 1;
  --card-glow-c: 0;
  --card-glow-h: 0;
  --card-glow-o: 0.05;

  --card-glow-accent-l: 0.968;
  --card-glow-accent-c: 0.211;
  --card-glow-accent-h: 109.77;
  --card-glow-accent-o: 1;
}

@utility wrapper-* {
  @apply mx-auto w-[calc(100%-1.8rem)] xs:w-[calc(100%-4rem)] md:w-[calc(100%-6rem)];
  max-width: --value(--wrapper- *, integer);
}

@utility scrollbar-* {
  &::-webkit-scrollbar {
    width: calc(--value(number) * 2px);
    height: calc(--value(number) * 2px);
  }

  &::-webkit-scrollbar-thumb {
    @apply bg-secondary/75 rounded-full;
  }

  &::-webkit-scrollbar-thumb:hover {
    @apply bg-secondary/85;
  }
}

@layer components {
  [data-slot="button"]::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    background: radial-gradient(
      circle 100px at var(--mouse-x, 50%) var(--mouse-y, 50%),
      oklch(1 0 0 / 10%),
      transparent 100%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  [data-slot="button"]:hover::before {
    opacity: 1;
  }

  [data-slot="button"]::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: oklch(1 0 0 / 10%);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
    pointer-events: none;
  }

  [data-slot="button"] {
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  [data-slot="button"]:disabled {
    transform: none !important;
  }

  [data-slot="button"]:disabled::before,
  [data-slot="button"]:disabled::after,
  [data-slot="button"][data-disable-animation="true"]::before,
  [data-slot="button"][data-disable-animation="true"]::after {
    display: none;
  }

  [data-slot="button"][data-disable-animation="true"] {
    transform: none !important;
  }
}
